!function(t){"use strict";theme.ProductFootbar=function(){function o(){this.load()}o.prototype=t.extend({},o.prototype,{duration:function(){return 1e3*theme.animations.footbar_product.duration},load:function(){var o=this,e=t(".js-footbar-product"),i=t(".js-footer"),n=t("[data-js-footbar-product-limit]");e.length&&n.length&&$window.on("load theme.resize.productFootbar scroll.productFootbar",function(){o._checkVisible(e,n,i)})},_checkVisible:function(t,o,e){var i=o[0].getBoundingClientRect(),n=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight"):0,s=t.innerHeight();i.top<n&&!t.hasClass("show")?(t.addClass("show animate"),t.velocity("stop",!0),t.velocity("slideDown",{duration:this.duration(),begin:function(){setTimeout(function(){t.addClass("visible")},0)},complete:function(){t.removeAttr("style")}})):i.top>=n&&t.hasClass("visible")&&(t.velocity("stop",!0),t.velocity("slideUp",{duration:this.duration(),begin:function(){t.removeClass("visible")},complete:function(){t.removeClass("show animate").removeAttr("style")}})),s>0&&(theme.current.is_mobile?(e.css({paddingBottom:""}),e.parent().css({paddingBottom:s})):(e.css({paddingBottom:s}),e.parent().css({paddingBottom:""})))},destroy:function(){$window.unbind("theme.resize.productFootbar scroll.productFootbar")}}),theme.ProductFootbar=new o},t(function(){theme.ProductFootbar()})}(jQueryTheme);