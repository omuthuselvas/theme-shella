!function(e){"use strict";theme.StickySidebar=function(){function t(){this.selectors={elements:".js-sticky-sidebar"}}t.prototype=e.extend({},t.prototype,{init:function(t,i){function a(t){t.each(function(){var t=e(this),i=t.find("[data-sticky-sidebar-inner]");if(theme.current.is_desktop)if(t.hasClass("initialize"))t.hasClass("active")||(t.stickySidebar("updateSticky"),t.addClass("active"));else{var a=t.parents("[data-sticky-sidebar-parent]"),s=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight"):0,n=0,r=t.attr("data-top-spacing"),c=t.attr("data-bottom-spacing");void 0!==r&&(s+=+r),void 0!==c&&(n+=+c),t.stickySidebar({containerSelector:a,innerWrapperSelector:i,topSpacing:s,bottomSpacing:n}).addClass("initialize active")}else t.hasClass("initialize active")&&(t.stickySidebar("destroy"),t.removeClass("initialize active"),t.removeAttr("style"),i.removeAttr("style"))})}if(!edge&&!ie){var s=t[i?"parents":"find"](this.selectors.elements);if(s.length){if(moz&&s[0].hasAttribute("data-disable-moz"))return;$window.on("theme.changed.breakpoint.sticky-sidebar",function(){a(s)}),a(s)}}},update:function(t){if(!edge&&!ie&&t.length&&theme.current.is_desktop){if(moz&&t[0].hasAttribute("data-disable-moz"))return;t.each(function(){var t=e(this);t.hasClass("initialize active")&&t.stickySidebar("updateSticky")})}},destroy:function(e,t){if(!edge&&!ie){var i=e[t?"parents":"find"](this.selectors.elements);if(i.length&&i.hasClass("initialize")){if(moz&&i[0].hasAttribute("data-disable-moz"))return;$window.unbind("theme.changed.breakpoint.sticky-sidebar"),i.stickySidebar("destroy")}}}}),theme.StickySidebar=new t},e(function(){theme.StickySidebar()})}(jQueryTheme);