!function(t){"use strict";theme.Footer=function(){function o(o){this.$container=t(o),this.namespace=".footer",this.onLoad()}return o.prototype=t.extend({},Section.prototype,o.prototype,{_back_to_top:{init:function(o){var e=this,n=t("[data-js-button-back-to-top]"),o=o+".buttonToTop";if(n.length){var i=n.attr("data-js-button-back-to-top")||1e3,s=function(){return 1e3*theme.animations.backtotop.scroll_duration},r=!1,a=!0;$window.on("scroll"+o+" resize"+o,function(){var o=pageYOffset||Math.max(t("body").scrollTop(),t("html").scrollTop());n.attr("data-bind")||n[o>i?"addClass":"removeClass"]("show"),o>i&&a&&n.removeAttr("data-bind")}),n.on("click",function(o){if(!r){r=!0;var e=n.attr("data-bind");if(e)t("html, body").velocity("stop").velocity("scroll",{offset:e,duration:s(),complete:function(){n.removeAttr("data-bind"),r=!1}});else{var i=pageYOffset||Math.max(t("body").scrollTop(),t("html").scrollTop());a=!1,n.attr("data-bind",i),t("html, body").velocity("stop").velocity("scroll",{offset:0,duration:s(),complete:function(){r=!1,a=!0}})}}return o.preventDefault(),o.stopPropagation(),!1}),this.destroy=function(){t(window).unbind("scroll"+o+" resize"+o),n.off(),delete e.destroy}}},destroy:function(){this.destroy&&this.destroy()}},_fixed:{init:function(o,e){function n(){var t=o.outerHeight(),e=s.innerHeight()>t+window.innerHeight;o[e&&theme.current.is_desktop?"addClass":"removeClass"]("footer--fixed"),o.css({width:theme.current.is_desktop&&i.hasClass("container")?i.width():""}),s.css({overflowY:e&&theme.current.is_desktop?"hidden":"",marginBottom:e&&theme.current.is_desktop?t+parseInt(o.css("margin-top")):""})}if(o.length&&o[0].hasAttribute("data-js-footer-fixed")){var i=o.parent(),s=t("#MainContent");$window.on("theme.resize"+e+" scroll"+e,n),n()}},destroy:function(t){$window.unbind("theme.resize"+t+" scroll"+t)}},onLoad:function(){var o=t(".js-footer");this._fixed.init(o,this.namespace),this._back_to_top.init(this.namespace)},onUnload:function(){this.$container.off(this.namespace),this._fixed.destroy(this.namespace),this._back_to_top.destroy(this.namespace)}}),o}(),t(function(){theme.sections.register("footer",theme.Footer)})}(jQueryTheme);