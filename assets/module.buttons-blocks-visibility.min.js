!function(t){"use strict";theme.ButtonsBlocksVisibility=function(){function o(){this.selectors={buttons:".js-button-block-visibility"},this.load()}o.prototype=t.extend({},o.prototype,{load:function(){t("[data-block-visibility]").each(function(){var o=t(this),e=o.attr("data-block-visibility");window.location.href.indexOf(e)!=-1&&(o.removeClass("d-none-important"),o.find("[data-block-visibility-focus]").focus())}),$body.on("click",this.selectors.buttons,function(o){function e(){if((!a.hasClass("d-none-important")||"open"===i.attr("data-action"))&&a[0].hasAttribute("data-block-onscroll")){var o=a.offset().top,e=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight"):0;t("html, body").velocity("scroll",{offset:o-e,duration:300})}}var i=t(this),n=i.attr("data-block-link"),a=t('[data-block-visibility="'+n+'"]');if(a.length){var s=i.attr("data-action-close-popup");return"true"===a.attr("data-block-animate")?(a.velocity("stop",!0).removeAttr("style"),a.hasClass("d-none-important")?(a.velocity("stop",!0).removeAttr("style"),a.velocity("slideDown",{duration:1e3*theme.animations.dropdown.duration,begin:function(){a.removeClass("d-none-important"),i.addClass("open")},complete:function(){a.removeAttr("style")}})):a.velocity("slideUp",{duration:1e3*theme.animations.dropdown.duration,begin:function(){},complete:function(){a.addClass("d-none-important").removeAttr("style"),i.removeClass("open")}})):a["close"===i.attr("data-action")?"addClass":"open"===i.attr("data-action")?"removeClass":"toggleClass"]("d-none-important"),s?theme.Popups.closeByName(s,null,function(){e()}):e(),a.hasClass("d-none-important")||a.find("[data-block-visibility-focus]").focus(),o.preventDefault(),!1}})}}),theme.ButtonsBlocksVisibility=new o},t(function(){theme.ButtonsBlocksVisibility()})}(jQueryTheme);