!function(o){"use strict";theme.Gallery=function(){function t(t){this.$container=o(t),this.namespace=".gallery",this.onLoad()}return t.prototype=o.extend({},Section.prototype,t.prototype,{onLoad:function(){var t=o(".gallery"),e=t.find(".gallery__fotorama"),a=e.fotorama({thumbmargin:0,thumbborderwidth:0}).data("fotorama");e.addClass("d-none-important"),this.fotorama=a,o(".fotorama__arr--prev").append(o("<i>").append(theme.Global.getIcon("006"))),o(".fotorama__arr--next").append(o("<i>").append(theme.Global.getIcon("007"))),o(".fotorama__fullscreen-icon").append(o("<i>").append(theme.Global.getIcon("164"))),t.on("click",".gallery__item",function(){var t=o(this).attr("data-index"),n=Math.max($html.scrollTop(),$body.scrollTop());a.show({index:t,time:0}),e.removeClass("d-none-important invisible position-absolute"),a.requestFullScreen(),$html.scrollTop(n)}),e.on("fotorama:fullscreenexit",function(){e.addClass("d-none-important invisible position-absolute")})},onUnload:function(){this.$container.off(this.namespace),this.fotorama&&(this.fotorama.destroy(),this.fotorama=null)}}),t}(),o(function(){theme.sections.register("gallery",theme.Gallery)})}(jQueryTheme);